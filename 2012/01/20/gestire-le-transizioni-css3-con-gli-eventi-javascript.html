<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>MoebiusMania - Gestire le transizioni CSS3 con gli eventi Javascript</title><meta name="description" content="Tutorial, articoli e curiosità sul web e dintorni"/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/mm-blog/_next/static/css/2974ebc8daa97b04.css" as="style"/><link rel="stylesheet" href="/mm-blog/_next/static/css/2974ebc8daa97b04.css" data-n-g=""/><link rel="preload" href="/mm-blog/_next/static/css/515b0d205f44da3d.css" as="style"/><link rel="stylesheet" href="/mm-blog/_next/static/css/515b0d205f44da3d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/mm-blog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/mm-blog/_next/static/chunks/webpack-7d9a46201a9abf62.js" defer=""></script><script src="/mm-blog/_next/static/chunks/framework-6e4ba497ae0c8a3f.js" defer=""></script><script src="/mm-blog/_next/static/chunks/main-0c81636966d3c8b4.js" defer=""></script><script src="/mm-blog/_next/static/chunks/pages/_app-9cd1d19dd7237c4c.js" defer=""></script><script src="/mm-blog/_next/static/chunks/50-8cf1ac8ca3219c88.js" defer=""></script><script src="/mm-blog/_next/static/chunks/669-e20bab15e87eef56.js" defer=""></script><script src="/mm-blog/_next/static/chunks/pages/%5Byear%5D/%5Bmonth%5D/%5Bday%5D/%5Btitle%5D-dfa7902dbb7724f4.js" defer=""></script><script src="/mm-blog/_next/static/ycLlH89c-7FSn3R4mVn5C/_buildManifest.js" defer=""></script><script src="/mm-blog/_next/static/ycLlH89c-7FSn3R4mVn5C/_ssgManifest.js" defer=""></script><script src="/mm-blog/_next/static/ycLlH89c-7FSn3R4mVn5C/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="Home_container__bCOhY"><main class="Home_main__nLjiQ"><h1 class="Home_title__T09hD">MoebiusMania</h1><p class="Home_description__41Owk">Tutorial, articoli e curiosità sul web e dintorni</p><div class="Home_grid__GxQ85"><h3>Gestire le transizioni CSS3 con gli eventi Javascript</h3><div>Sicuramente una delle cose che ha suscitato più interesse con i CSS3 è la possibilità di creare delle transizioni animate senza passare da Javascript o Flash e quindi ottenendo ottime performance in ambito mobile (<em>smartphone e tablet</em>).

Un &quot;problema&quot; delle transizioni CSS3 è il fatto che sono legate ai cambiamenti di stato, e nonostante nel linguaggio CSS ne esistono vari, spesso il più utilizzato è :hover ovvero quello responsabile di gestire il passaggio del mouse su un particolare elemento (<a title="CSS tip #5 – Menu con :hover" href="http://www.moebiusmania.net/2009/02/27/css-tip-5-menu-con-hover/">esiste un CSS Tip a riguardo</a>)... una favolosa interazione che è completamente inutile sui dispositivi touch! <!-- -->

Ma non disperate non è ancora tutto perduto perché Javascript è qui per darci una mano, possiamo tranquillamente utilizzare eventi Javascript (<em>uno a caso... il click!</em>) per far scaturire queste transizioni senza neanche troppa fatica.

[avviso]Il codice in questo esempio è ottimizzato per i browser a base Webkit, in quanto ha come obiettivo principale il funzionamento su smartphone e tablet![/avviso]

Tenete pronto jQuery, anche se non è strettamente necessario, ci farà comodo per accedere velocemente agli eventi e alle classi CSS.

[btn url=&quot;http://moebiusmania.net/tutorial/2012/transizioniJs.html&quot;]Guardate il file di prova[/btn] [btn url=&quot;http://www.html5today.it/tutorial/css3-transitions-tutorial-completo-transizioni-css3&quot;] Le basi delle transizioni CSS3 [/btn]
<h2>1. Preparare il file</h2>
Creiamo un nuovo file Html vuoto nel quale creiamo un elemento &quot;cavia&quot;. Un div, un button... quello che più vi piace, assegnategli un id così sarà più facile selezionarlo dopo.
<pre class="brush:xml">&lt;div id=&quot;elemento&quot;&gt;&lt;/div&gt;</pre>
Tramite Css dategli un colore di sfondo e delle dimensioni, giusto per creare un elemento di test, tipo 150x150 pixel con sfondo azzurro.
<h2>2. Creare le regole necessarie</h2>
Nella regola che definisce questo elemento dovremo anche inserire la proprietà &quot;transition&quot; (<em>con il prefisso per Webkit</em>) che dirà al browser di eseguire un&#x27;interpolazione quando rileva un cambiamento di proprietà sull&#x27;elemento:
<pre class="brush:css">#elemento{
  -webkit-transition: all 0.5s ease;
}</pre>
Visto che è un oggetto a posizionamento statico useremo  i margini per muoverlo, creiamo una classe che rappresenti lo stato finale della nostra animazione, dandogli un bel margin-left abbondante lo faremo muovere verso destra:
<pre class="brush:css">.spostamento{
  margin-left: 400px;
}</pre>
E per adesso non assegnatela a nessun elemento,
<h2>3. jQuery mette e toglie</h2>
Ora è il turno di jQuery! Dopo averlo incorporato dovremo dirgli che al click sul nostro id elemento dovrà fare qualcosa... alternare l&#x27;assegnazione e la rimozione di una classe, magari quella creata poco fa, sull&#x27;elemento corrente
<pre class="brush:js">$(&quot;#elemento&quot;).click(function(){
  $(this).toggleClass(&quot;spostamento&quot;);
});</pre>
Quindi:
<ol><li>si clicca sull&#x27;elemento</li><li>jQuery assegna la classe a quest&#x27;ultimo</li><li>la proprietà &quot;transform&quot; rileva un cambiamento di proprietà e il browser esegue la transizione</li><li>si clicca di nuovo e jQuery toglie la classe, altro cambiamento e la transizione va al contrario</li><li>e via così...</li></ol><h2>4. Opzionale - versione senza jQuery</h2>
Per chi vuole smanettare un pò di più con Javascript allo stato puro, il codice per fare (quasi tutto) quello ricreato poco fa:
<pre class="brush:js">var elemento = document.querySelector(&quot;#elemento&quot;);

elemento.addEventListener(&quot;click&quot;,cambia,false);

function cambia(){
  this.className += &quot; sposta&quot;;
  this.removeEventListener(&quot;click&quot;,cambia,false);
}</pre>
Descrivendo le righe qui sopra:
<ol><li>Accedo all&#x27;oggetto con id elemento e lo memorizzo in una variabile Javascript</li><li>Aggiungo un event listener per dirgli di richiamare la funzione cambia al click</li><li>Nella funzione cambia: aggiungo la classe sposta all&#x27;elemento corrente</li><li>Nella funzione cambia: rimuovo l&#x27;event listener per evitare che continui ad aggiungere la stessa classe</li></ol>
Rimuovere la classe dall&#x27;elemento e alternare l&#x27;assegna/rimuovi è un po più complesso e va un po fuori l&#x27;argomento di questo breve tutorial... e poi ragazzi le librerie Javascript come jQuery esistono proprio per questo ;) .
<h2>5. Dateci dentro!</h2>
A questo punto direi che è giunto il vostro momento di provare, testare e smanettare. Magari anche con eventi diversi dal click, <a href="http://jqueryui.com/demos/draggable/" target="_blank">jQuery UI</a> mette a disposizione anche il trascinamento (<em>drag</em>)!

Ricordatevi che potete riprovare la demo e scaricare un file già completo e funzionante tornando verso l&#x27;inizio dell&#x27;articolo.</div><div></div></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{},"__N_SSG":true},"page":"/[year]/[month]/[day]/[title]","query":{"year":"2012","month":"01","day":"20","title":"gestire-le-transizioni-css3-con-gli-eventi-javascript"},"buildId":"ycLlH89c-7FSn3R4mVn5C","assetPrefix":"/mm-blog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>